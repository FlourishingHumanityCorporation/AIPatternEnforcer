# Using Code Generators

ProjectTemplate includes powerful code generators to maintain consistency and reduce boilerplate. This guide shows how
to use each generator effectively.

## Table of Contents

1. [Quick Reference](#quick-reference)
  2. [Available Generators](#available-generators)
  3. [Generator Output Locations](#generator-output-locations)
4. [Enhanced Component Generator](#enhanced-component-generator)
  5. [Interactive Workflow](#interactive-workflow)
  6. [Template Types](#template-types)
    7. [Interactive Components](#interactive-components)
    8. [Display Components](#display-components)
    9. [Data Components](#data-components)
    10. [Overlay Components](#overlay-components)
    11. [Form Components](#form-components)
  12. [Customization Options](#customization-options)
    13. [CSS Framework Integration](#css-framework-integration)
    14. [Testing Configuration](#testing-configuration)
15. [Basic Component Generator](#basic-component-generator)
  16. [Standard Output](#standard-output)
17. [Feature Generator](#feature-generator)
  18. [Feature Structure](#feature-structure)
19. [API Generator](#api-generator)
  20. [Generated Files](#generated-files)
21. [Hook Generator](#hook-generator)
  22. [Hook Templates](#hook-templates)
23. [Stack Decision Wizard](#stack-decision-wizard)
  24. [Decision Process](#decision-process)
25. [Generator Configuration](#generator-configuration)
  26. [Template Customization](#template-customization)
  27. [Handlebars Variables](#handlebars-variables)
  28. [Custom Generator Creation](#custom-generator-creation)
29. [Optimal Practices](#optimal-practices)
  30. [1. Always Use Generators](#1-always-use-generators)
  31. [2. Customize for Your Patterns](#2-customize-for-your-patterns)
  32. [3. Include All Related Files](#3-include-all-related-files)
  33. [4. Follow Naming Conventions](#4-follow-naming-conventions)
  34. [5. Test Generated Code](#5-test-generated-code)
35. [Troubleshooting](#troubleshooting)
  36. [Generator Not Found](#generator-not-found)
  37. [Template Errors](#template-errors)
  38. [File Conflicts](#file-conflicts)
39. [Related Resources](#related-resources)

## Quick Reference

### Available Generators

```bash
# Components
npm run g:c ComponentName           # Enhanced interactive generator
npm run g:component ComponentName   # Basic component generator

# Features (planned)
npm run g:feature FeatureName       # Complete feature structure
npm run g:api EndpointName          # API route with controller
npm run g:hook HookName             # Custom React hook

# Utilities
npm run choose-stack                # Interactive stack decision wizard
```

### Generator Output Locations

```text
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ MyComponent/            # Generated by g:c or g:component
‚îÇ       ‚îú‚îÄ‚îÄ index.ts
‚îÇ       ‚îú‚îÄ‚îÄ MyComponent.tsx
‚îÇ       ‚îú‚îÄ‚îÄ MyComponent.test.tsx
‚îÇ       ‚îú‚îÄ‚îÄ MyComponent.stories.tsx
‚îÇ       ‚îî‚îÄ‚îÄ MyComponent.module.css
‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îî‚îÄ‚îÄ MyFeature/              # Generated by g:feature  
‚îÇ       ‚îú‚îÄ‚îÄ components/
‚îÇ       ‚îú‚îÄ‚îÄ hooks/
‚îÇ       ‚îú‚îÄ‚îÄ services/
‚îÇ       ‚îî‚îÄ‚îÄ types/
‚îî‚îÄ‚îÄ hooks/
    ‚îî‚îÄ‚îÄ useMyHook.ts            # Generated by g:hook
```

## Enhanced Component Generator

**Command**: `npm run g:c ComponentName`

The enhanced generator provides interactive template selection and comprehensive component creation.

### Interactive Workflow

```bash
$ npm run g:c UserCard

? Select component template:
  ‚ùØ Interactive (buttons, forms, inputs)  
    Display (cards, lists, layout)
    Data (tables, charts, complex data)
    Overlay (modals, tooltips, popups)
    Form (complete form with validation)

? Include additional features:
  ‚ùØ ‚óâ TypeScript interfaces
    ‚óâ CSS modules
    ‚óâ Storybook stories  
    ‚óâ Unit tests
    ‚óØ Integration tests
    ‚óØ Accessibility helpers
    ‚óØ Animation support

? Component props interface:
  ‚ùØ Generate from template
    Manual definition
    Import from existing type

‚ú® Generated UserCard component with:
   - UserCard.tsx (Interactive template)
   - UserCard.module.css
   - UserCard.test.tsx  
   - UserCard.stories.tsx
   - index.ts
```

### Template Types

#### Interactive Components
- Buttons with state management
- Form inputs with validation
- Interactive controls (sliders, toggles)
- Event handling and callbacks

```typescript
// Example: Generated interactive component
interface ButtonProps {
  onClick: () => void;
  disabled?: boolean;
  variant?: 'primary' | 'secondary';
  loading?: boolean;
}

export const Button: React.FC<ButtonProps> = ({
  onClick,
  disabled,
  variant = 'primary',
  loading
}) => {
  // Generated with proper event handling
  // Includes loading states
  // Keyboard navigation support
};
```

#### Display Components
- Data presentation components
- Layout and structure elements
- Read-only information display

```typescript
// Example: Generated display component  
interface UserCardProps {
  user: User;
  showAvatar?: boolean;
  compact?: boolean;
}

export const UserCard: React.FC<UserCardProps> = ({
  user,
  showAvatar = true,
  compact = false
}) => {
  // Generated with proper data display
  // Responsive design
  // Loading and error states
};
```

#### Data Components
- Tables with sorting/filtering
- Charts and visualizations  
- Complex data structures

#### Overlay Components
- Modals and dialogs
- Tooltips and popovers
- Notification systems

#### Form Components
- Complete forms with validation
- Multi-step wizards
- Field group management

### Customization Options

#### CSS Framework Integration

```bash
? Select styling approach:
  ‚ùØ CSS Modules (recommended)
    Tailwind CSS
    Styled Components
    Emotion
    Plain CSS
```

#### Testing Configuration

```bash
? Include test types:
  ‚ùØ ‚óâ Unit tests (Jest + RTL)
    ‚óØ Integration tests
    ‚óØ Visual regression tests
    ‚óØ E2E tests (Playwright)
    ‚óØ Accessibility tests
```

## Basic Component Generator

**Command**: `npm run g:component ComponentName`

Creates a standard component structure without interactive prompts.

### Standard Output

```typescript
// src/components/ComponentName/ComponentName.tsx
import React from 'react';
import styles from './ComponentName.module.css';

interface ComponentNameProps {
  // Add your props here
}

export const ComponentName: React.FC<ComponentNameProps> = (props) => {
  return (
    <div className={styles.container}>
      {/* Component content */}
    </div>
  );
};

export default ComponentName;
```

```typescript
// src/components/ComponentName/ComponentName.test.tsx
import { render, screen } from '@testing-library/react';
import { ComponentName } from './ComponentName';

describe('ComponentName', () => {
  it('renders without crashing', () => {
    render(<ComponentName />);
    expect(screen.getByRole('...')) // TODO: Add proper test
  });
});
```

## Feature Generator

**Command**: `npm run g:feature FeatureName` *(planned)*

Generates complete feature modules with all related files.

### Feature Structure

```text
src/features/FeatureName/
‚îú‚îÄ‚îÄ components/              # Feature-specific components
‚îÇ   ‚îú‚îÄ‚îÄ FeatureComponent.tsx
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îú‚îÄ‚îÄ hooks/                   # Custom hooks for this feature
‚îÇ   ‚îú‚îÄ‚îÄ useFeatureData.ts
‚îÇ   ‚îî‚îÄ‚îÄ index.ts  
‚îú‚îÄ‚îÄ services/               # API calls and business logic
‚îÇ   ‚îú‚îÄ‚îÄ featureApi.ts
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îú‚îÄ‚îÄ types/                  # Feature-specific types
‚îÇ   ‚îú‚îÄ‚îÄ feature.types.ts
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îú‚îÄ‚îÄ utils/                  # Feature utilities
‚îÇ   ‚îî‚îÄ‚îÄ helpers.ts
‚îî‚îÄ‚îÄ index.ts               # Feature public API
```

## API Generator

**Command**: `npm run g:api EndpointName` *(planned)*

Creates API endpoints with proper structure and validation.

### Generated Files

```typescript
// src/api/endpoints/endpointName.ts
import { Router } from 'express';
import { endpointNameController } from '../controllers/endpointNameController';

const router = Router();

router.get('/', endpointNameController.getAll);
router.post('/', endpointNameController.create);
router.get('/:id', endpointNameController.getById);
router.put('/:id', endpointNameController.update);
router.delete('/:id', endpointNameController.delete);

export { router as endpointNameRouter };
```

## Hook Generator

**Command**: `npm run g:hook HookName` *(planned)*

Creates custom React hooks with proper patterns.

### Hook Templates

```typescript
// src/hooks/useHookName.ts
import { useState, useEffect } from 'react';

interface UseHookNameOptions {
  // Configuration options
}

interface UseHookNameReturn {
  // Return value interface
}

export const useHookName = (options: UseHookNameOptions): UseHookNameReturn => {
  // Generated hook implementation
  // Includes proper cleanup
  // Error handling
  // TypeScript types
};
```

## Stack Decision Wizard

**Command**: `npm run choose-stack`

Interactive wizard for technology stack decisions.

### Decision Process

```bash
$ npm run choose-stack

üéØ ProjectTemplate Stack Decision Wizard

? What type of application are you building?
  ‚ùØ Web Application (React/Vue/Angular)
    API Service (Node.js/Python/Go)
    Full-Stack (Frontend + Backend)
    Static Site (Documentation/Blog)
    Mobile App (React Native/Flutter)

? What's your team's experience level?
  ‚ùØ Beginner (want simple, proven solutions)
    Intermediate (balance of features and simplicity)  
    Advanced (cutting-edge, performance-focused)

? What are your priorities? (select multiple)
  ‚ùØ ‚óâ Developer Experience
    ‚óâ Performance
    ‚óØ Enterprise Features
    ‚óâ Local Development
    ‚óØ Team Collaboration
    ‚óØ Deployment Simplicity

üìã Recommended Stack:
   Frontend: React + TypeScript + Vite
   Backend: Node.js + Express + TypeScript  
   Database: PostgreSQL
   Testing: Jest + Testing Library + Playwright
   
üìÅ Generated configuration files:
   - Updated package.json
   - Added tsconfig.json
   - Created vite.config.ts
   - Set up .env.example
```

## Generator Configuration

### Template Customization

Create custom templates in `templates/`:

```text
templates/
‚îú‚îÄ‚îÄ component/
‚îÇ   ‚îú‚îÄ‚îÄ display/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ {{name}}.tsx.hbs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ {{name}}.test.tsx.hbs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ {{name}}.module.css.hbs
‚îÇ   ‚îî‚îÄ‚îÄ interactive/
‚îÇ       ‚îú‚îÄ‚îÄ {{name}}.tsx.hbs
‚îÇ       ‚îî‚îÄ‚îÄ {{name}}.stories.tsx.hbs
‚îî‚îÄ‚îÄ feature/
    ‚îî‚îÄ‚îÄ structure.json
```

### Handlebars Variables

Available in all templates:

```handlebars
{{name}}           // ComponentName
{{camelCase}}      // componentName  
{{kebabCase}}      // component-name
{{snakeCase}}      // component_name
{{pascalCase}}     // ComponentName
{{lowerCase}}      // componentname
{{upperCase}}      // COMPONENTNAME
{{description}}    // User-provided description
{{author}}         // From package.json
{{date}}          // Current date
{{year}}          // Current year
```

### Custom Generator Creation

1. **Create Template Files**:
```bash
mkdir templates/my-generator
touch templates/my-generator/{{name}}.tsx.hbs
```

2. **Create Generator Script**:
```javascript
// tools/generators/my-generator.js
const Generator = require('./base-generator');

class MyGenerator extends Generator {
  constructor() {
    super('my-generator', 'My custom generator');
  }

  async prompts() {
    return [
      {
        type: 'input',
        name: 'name',
        message: 'Component name:',
        validate: input => !!input
      }
    ];
  }

  async generate(answers) {
    // Generation logic
  }
}

module.exports = MyGenerator;
```

3. **Add NPM Script**:
```json
{
  "scripts": {
    "g:my": "node tools/generators/my-generator.js"
  }
}
```

## Optimal Practices

### 1. Always Use Generators
```bash
# ‚úÖ Good: Use generator for consistency
npm run g:c UserProfile

# ‚ùå Bad: Manual component creation
mkdir src/components/UserProfile
touch src/components/UserProfile/UserProfile.tsx
```

### 2. Customize for Your Patterns
- Update templates to match your style guide
- Add your common imports and patterns
- Include your testing preferences

### 3. Include All Related Files
- Components should include tests and stories
- Features should include all necessary modules
- APIs should include validation and documentation

### 4. Follow Naming Conventions
- PascalCase for components: `UserProfile`
- camelCase for hooks: `useUserProfile`
- kebab-case for feature folders: `user-profile`

### 5. Test Generated Code
- Run tests after generation
- Check linting and type checking
- Verify imports and exports work

## Troubleshooting

### Generator Not Found
```bash
# Check if generator script exists
ls tools/generators/

# Verify npm script is defined
npm run | grep g:
```

### Template Errors
```bash
# Check template syntax
node -e "require('handlebars').compile(fs.readFileSync('templates/component/{{name}}.tsx.hbs', 'utf8'))"

# Verify template variables
npm run g:c TestComponent -- --debug
```

### File Conflicts
```bash
# Check if files already exist
npm run g:c ExistingComponent
# Generator should prompt to overwrite

# Use force flag if needed (use carefully)
npm run g:c ExistingComponent -- --force
```

## Related Resources

- [Component Templates](../../../templates/component/) - View all available templates
- [Frontend Development Rules](../../../CLAUDE.md#frontend-development-rules) - Component standards
- [Testing Guide](../testing/comprehensive-testing-guide.md) - Testing generated components